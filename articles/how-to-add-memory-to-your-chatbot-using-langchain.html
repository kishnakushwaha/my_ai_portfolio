<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<!-- Title to be replaced for each article -->
<title>How to Add Memory to Your Chatbot Using LangChain | Kishna Kushwaha</title>
<meta content="Article Description" name="description"/>
<!-- Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;display=swap" rel="stylesheet"/>
<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<!-- Highlight.js Theme (VS Code Dark style) -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css" rel="stylesheet"/>
<!-- Custom CSS -->
<link href="../css/style.css" rel="stylesheet"/>
</head>
<body>
<!-- Navigation -->
<header>
<div class="container nav-container">
<a class="logo" href="../index.html">
<div class="logo-circle"></div>
                Kishna Kushwaha
            </a>
<button aria-label="Toggle navigation" class="mobile-menu-btn">
<i class="fas fa-bars"></i>
</button>
<ul class="nav-links">
<li><a href="../index.html">Home</a></li>
<li><a href="../about.html">About</a></li>
<li><a class="active" href="../articles.html">Articles</a></li>
<li><a href="../projects/machine_learning.html">Projects</a></li>
<li><a href="../index.html#courses">Recommended Resources</a></li>
<li>
<button aria-label="Search" class="search-trigger-btn nav-link-btn" id="search-trigger">
<i class="fas fa-search"></i>
</button>
</li></ul>
</div>
</header>
<main>
<!-- Top Ad Banner -->
<div class="container" style="margin-top:2rem;">
<div class="ad-unit ad-leaderboard">
<span>Advertisement (Leaderboard)</span>
</div>
</div>
<div class="single-article-container">
<!-- Left: Main Content -->
<div class="article-main">
<article class="article-body">
<h1 style="font-size: 2.5rem; line-height: 1.2; font-weight: 800; margin-bottom: 0.5rem; color: #111827;">
                        How to Add Memory to Your Chatbot Using LangChain</h1>
<div class="article-meta-small" style="margin-bottom: 2rem;">Dec 08, 2025 • 5 min read</div>
<p>If your chatbot forgets everything after each message, it doesn’t seem very smart. What makes a chatbot truly intelligent is <strong>memory</strong>; the ability to remember past conversations and use that information in future replies. So, in this article, I’ll show you how to add memory to your chatbot with LangChain.</p>
<h2 class="wp-block-heading">Why Chatbot Memory Matters</h2>
<p>Without memory, the bot treats every message as a new conversation. It forgets user preferences, past questions, and context.</p>
<p>With memory, it recalls past interactions. It feels human-like and context-aware.</p>
<p>LangChain makes this process very simple if you use the right methods. Let’s get started.</p>
<h4 class="wp-block-heading">Step 1: Install Everything You Need</h4>
<p>You’ll need just a few libraries:</p>
<pre class="wp-block-preformatted"><strong>pip install langchain langchain-huggingface transformers sentence-transformers</strong></pre>
<p>We’ll use a <strong>local model</strong> from Hugging Face, so you won’t have to pay for any API calls.</p>
<h4 class="wp-block-heading">Step 2: Import the Required Classes</h4>
<p>Start with the key LangChain modules:</p>
<pre><code class="language-python">from langchain.memory import ConversationBufferMemory
from langchain.chains import LLMChain
from langchain.prompts import PromptTemplate
from langchain_huggingface import HuggingFacePipeline</code></pre>
<h4 class="wp-block-heading">Step 3: Load a Local Model</h4>
<p>We’ll use <strong>FLAN-T5-small</strong>, a free and lightweight model for text generation:</p>
<pre><code class="language-python">from transformers import pipeline

# Load the model locally
generator = pipeline("text2text-generation", model="google/flan-t5-small")

# Wrap it with LangChain
llm = HuggingFacePipeline(pipeline=generator)</code></pre>
<p>This model will run on your computer’s CPU, or on a GPU if you have one available.</p>
<h4 class="wp-block-heading">Step 4: Add Memory to Your Chatbot</h4>
<p>LangChain gives you several types of memory:</p>
<ol class="wp-block-list">
<li><strong>ConversationBufferMemory</strong> stores everything, similar to a chat log.</li>
<li><strong>ConversationBufferWindowMemory</strong> – stores the last <em>k</em> interactions.</li>
<li><strong>ConversationSummaryMemory</strong> – summarizes the chat to save space.</li>
</ol>
<p>Let’s start simple:</p>
<pre><code class="language-python"># Create memory
memory = ConversationBufferMemory()

# Define a prompt that includes the chat history
prompt = PromptTemplate(
    input_variables=["history", "input"],
    template="This is a conversation between a human and an AI assistant.\n\n{history}\nHuman: {input}\nAI:"
)

# Create the LLMChain with memory
chain = LLMChain(llm=llm, prompt=prompt, memory=memory)</code></pre>
<h4 class="wp-block-heading">Step 5: Chat with Context</h4>
<p>Now test it interactively:</p>
<pre><code class="language-python">while True:
    user_input = input("You: ")
    if user_input.lower() in ["exit", "quit"]:
        break
    response = chain.run(user_input)
    print("AI:", response)</code></pre>
<pre class="wp-block-preformatted">You: My name is Aman.<br/>AI: Hi, Aman.<br/>You: What’s my name?<br/>AI: Aman.<br/>You: exit</pre>
<p>The bot will remember your name due to the <strong>memory buffer</strong>.</p>
<h2 class="wp-block-heading">A Tip from Experience</h2>
<p>If your chatbot starts forgetting context after 4–5 messages, switch to:</p>
<pre><code class="language-python">from langchain.memory import ConversationSummaryMemory
memory = ConversationSummaryMemory(llm=llm)</code></pre>
<p>This keeps only the essence of the conversation, saving compute while retaining context, perfect for long chats.</p>
<h3 class="wp-block-heading">Summary</h3>
<p>So, adding memory transforms a basic chatbot into an intelligent conversational agent.</p>
<p>Now that you’ve mastered memory, the next step is to make your chatbot <strong>context-aware</strong> using <strong>RAG (Retrieval-Augmented Generation)</strong>, where it can recall facts from documents too. You can learn about RAGs from my guided project <strong><a href="build-your-first-rag-system-from-scratch.html">here</a></strong>.</p>
<!-- CONTENT END 1 -->
</article>
<!-- Navigation Bottom -->
<div style="margin-top: 4rem; padding-top: 2rem; border-top: 1px solid #E5E7EB; display: flex; justify-content: space-between;">
<a href="prompt-engineering-101-for-ai-ml-engineers.html" style="text-decoration: none; color: var(--primary-color); font-weight: 600;">←
                        Previous Article</a>
<a href="../articles.html" style="text-decoration: none; color: var(--text-muted); font-weight: 500;">All Articles</a>
<a href="how-to-become-a-generative-ai-specialist.html" style="text-decoration: none; color: var(--primary-color); font-weight: 600;">Next
                        Article →</a>
</div>
</div>
<!-- Right: Sticky Sidebar -->
<aside class="sidebar-area">
<div class="sticky-sidebar-content">
<!-- Search Widget (Optional) -->
<!-- <div class="sidebar-widget"> ... </div> -->
<!-- Sidebar Ad -->
<div class="ad-unit ad-sidebar-vertical">
<span>Advertisement (Vertical)</span>
</div>
<!-- Popular Posts -->
<div class="sidebar-widget">
<h3 class="widget-title">Popular Articles</h3>
<ul class="popular-posts-list">
<li><a href="#">Building AI Agents with LangChain</a></li>
<li><a href="#">Optimizing PyTorch Loops</a></li>
<li><a href="#">Data Structures for ML Engineers</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>
<!-- Footer -->
<footer class="main-footer">
<div class="container">
<div class="footer-content">
<p>© 2025 Kishna Kushwaha. All rights reserved.</p>
<div class="footer-links">
<a href="#">Privacy Policy</a>
<a href="#">Terms of Service</a>
</div>
</div>
</div>
<a aria-label="Go to top" class="go-top-btn" href="#"><i class="fas fa-arrow-up"></i></a>
</footer>
<script src="../js/script.js"></script>
<!-- Highlight.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<div class="search-overlay" id="search-overlay">
<div class="search-container">
<button class="search-close-btn" id="search-close">×</button>
<input autocomplete="off" id="search-input" placeholder="Search articles, projects..." type="text"/>
<div class="search-results" id="search-results"></div>
</div>
</div><script src="../js/search.js"></script></body>
</html>
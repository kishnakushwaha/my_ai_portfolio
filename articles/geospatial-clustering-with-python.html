<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<!-- Title to be replaced for each article -->
<title>Geospatial Clustering with Python | Kishna Kushwaha</title>
<meta content="Article Description" name="description"/>
<!-- Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;display=swap" rel="stylesheet"/>
<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<!-- Highlight.js Theme (VS Code Dark style) -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css" rel="stylesheet"/>
<!-- Custom CSS -->
<link href="../css/style.css" rel="stylesheet"/>
</head>
<body>
<!-- Navigation -->
<header>
<div class="container nav-container">
<a class="logo" href="../index.html">
<div class="logo-circle"></div>
                Kishna Kushwaha
            </a>
<button aria-label="Toggle navigation" class="mobile-menu-btn">
<i class="fas fa-bars"></i>
</button>
<ul class="nav-links">
<li><a href="../index.html">Home</a></li>
<li><a href="../about.html">About</a></li>
<li><a href="../articles.html">Articles</a></li>
<li><a href="../projects/machine_learning.html">Projects</a></li>
<li><a href="../index.html#courses">Recommended Resources</a></li>
<li>
<button aria-label="Search" class="search-trigger-btn nav-link-btn" id="search-trigger">
<i class="fas fa-search"></i>
</button>
</li>
</ul>
</div>
</header>
<main>
<!-- Top Ad Banner -->
<div class="container" style="margin-top:2rem;">
<div class="ad-unit ad-leaderboard">
<span>Advertisement (Leaderboard)</span>
</div>
</div>
<div class="single-article-container">
<!-- Left: Main Content -->
<div class="article-main">
<article class="article-body">
<h1 style="font-size: 2.5rem; line-height: 1.2; font-weight: 800; margin-bottom: 0.5rem; color: #111827;">
                        Geospatial Clustering with Python</h1>
<div class="article-meta-small" style="margin-bottom: 2rem;">Nov 23, 2025 ‚Ä¢ 5 min read</div>
<!-- Navigation Top -->
<div style="margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid #E5E7EB; display: flex; justify-content: space-between;">
<a class="nav-prev" href="topic-modelling-using-python.html" style="text-decoration: none; color: var(--primary-color); font-weight: 600;">‚Üê Previous Article</a>
<a href="../articles.html" style="text-decoration: none; color: var(--text-muted); font-weight: 500;">All Articles</a>
<a class="nav-next" href="compare-multiple-machine-learning-models.html" style="text-decoration: none; color: var(--primary-color); font-weight: 600;">Next Article ‚Üí</a>
</div>
<p>Geospatial clustering is the process of grouping geographical points, such as delivery locations, store addresses, or sensor coordinates, into <strong><a href="data-science-project-ideas-on-clustering-analysis.html" target="">clusters</a></strong> based on their physical proximity to the Earth‚Äôs surface. If you want to learn about geospatial clustering as a Data Scientist, this article is for you. In this article, I‚Äôll take you through a practical guide to geospatial clustering with Python.</p>
<h2 class="wp-block-heading">What is Geospatial Clustering?</h2>
<p>At its core, geospatial clustering is just unsupervised learning applied to latitude and longitude data, but the goal is always the same: to find meaningful groupings or patterns in spatial data to make location-based decisions smarter.</p>
<p>Let‚Äôs look at some applications of geospatial clustering:</p>
<ol class="wp-block-list">
<li><strong>Logistics</strong>: When you want to create delivery zones.</li>
<li><strong>Retail</strong>: When you want to identify dense areas of customer activity to open a new store.</li>
<li><strong>Urban planning</strong>: When you want to detect high-demand zones for public transport.</li>
<li><strong>Crime analysis</strong>: When you want to find crime hotspots.</li>
</ol>
<p>All these use cases have two things in common:</p>
<ol class="wp-block-list">
<li>You‚Äôre working with location data,</li>
<li>You want to uncover natural groupings.</li>
</ol>
<h2 class="wp-block-heading">Geospatial Clustering with Python</h2>
<p>Now, let‚Äôs see how to perform geospatial clustering using Python as a Data Scientist. The dataset I will be using for this task is based on delivery pickups and drop locations. <strong>You can download this dataset from <a href="https://www.kaggle.com/datasets/gauravmalik26/food-delivery-dataset?select=train.csv" rel="noreferrer noopener" target="_blank">here</a>.</strong></p>
<p>Now, let‚Äôs import the necessary Python libraries and the dataset:</p>
<pre><code class="language-python">import pandas as pd
import numpy as np
from sklearn.cluster import KMeans
from geopy.distance import geodesic

data = pd.read_csv("/content/deliverytime.txt")
data.head()</code></pre>
<figure class="wp-block-image aligncenter size-large"><img alt="dataset for Geospatial Clustering" class="wp-image-26537" data-attachment-id="26537" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="image" data-orig-size="1968,426" data-recalc-dims="1" decoding="async" height="222" sizes="(max-width: 1024px) 100vw, 1024px" src="../assets/datasets/image-4.png" width="1024"/><figcaption class="wp-element-caption"><strong>The dataset contains more columns</strong></figcaption></figure>
<p>Now, we will calculate the real-world distance between the pickup point and the delivery location using the <strong><a href="https://faculty.sites.iastate.edu/jia/files/inline-files/geodesics.pdf" rel="noreferrer noopener" target="_blank">geodesic formula</a></strong>:</p>
<pre><code class="language-python">def calculate_distance(row):
    return geodesic(
        (row['Restaurant_latitude'], row['Restaurant_longitude']),
        (row['Delivery_location_latitude'], row['Delivery_location_longitude'])
    ).km

data['Distance_km'] = data.apply(calculate_distance, axis=1)</code></pre>
<p>Here, we defined a function, calculate_distance, that takes a row of the dataset and computes the geographic (real-world) distance in kilometres between the restaurant and delivery coordinates using the geodesic method from the geopy library. We then used .<strong>apply()</strong> with <strong>axis=1</strong> to apply this function row-wise and create a new column <strong>Distance_km</strong>, containing the distance for each delivery.</p>
<p>Now, let‚Äôs visualize all delivery locations across India on an interactive map using Plotly:</p>
<pre><code class="language-python">import plotly.graph_objects as go

fig = go.Figure()

fig.add_trace(go.Scattergeo(
    lon=data['Delivery_location_longitude'],
    lat=data['Delivery_location_latitude'],
    mode='markers',
    marker=dict(color='blue', size=6, opacity=0.7),
    name='Delivery Locations',
    hovertemplate='Lat: %{lat:.4f}&lt;br&gt;Lon: %{lon:.4f}&lt;extra&gt;Delivery&lt;/extra&gt;'
))

fig.update_layout(
    title='üì¶ Mapping Our Reach ‚Äî Delivery Locations Across India',
    geo=dict(
        scope='asia',
        showland=True,
        landcolor='rgb(229, 229, 229)',
        showcountries=True,
        countrycolor='rgb(200, 200, 200)',
        showlakes=False,
        lonaxis=dict(range=[68, 98]),  # focus on India
        lataxis=dict(range=[6, 38])
    ),
    margin=dict(l=0, r=0, t=60, b=0),
    showlegend=False
)

fig.show()</code></pre>
<figure class="wp-block-image aligncenter size-full"><img alt="Mapping Reach ‚Äî Delivery Locations Across India" class="wp-image-26541" data-attachment-id="26541" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Mapping Our Reach ‚Äî Delivery Locations Across India" data-orig-size="855,525" data-recalc-dims="1" decoding="async" height="525" sizes="(max-width: 855px) 100vw, 855px" src="../assets/datasets/Mapping-Our-Reach-‚Äî-Delivery-Locations-Across-India.png" width="855"/></figure>
<p>The graph shows that delivery activity is concentrated predominantly in the southern and central regions of India, with notable clusters around states like Karnataka, Tamil Nadu, and Maharashtra. There‚Äôs also a moderate spread into central and eastern parts, but relatively fewer delivery points in the northern and northeastern zones, indicating potential regions for service expansion or underutilization.</p>
<h4 class="wp-block-heading">Performing K-Means Clustering</h4>
<p>Now, let‚Äôs perform K-Means clustering on delivery locations and visualize the clusters along with their geographic centroids:</p>
<pre><code class="language-python">from sklearn.cluster import KMeans

X = data[['Delivery_location_latitude', 'Delivery_location_longitude']]
k = 3
kmeans = KMeans(n_clusters=k, random_state=42)
data['Cluster'] = kmeans.fit_predict(X)
centroids = kmeans.cluster_centers_

fig = go.Figure()

for cluster_label in sorted(data['Cluster'].unique()):
    cluster_data = data[data['Cluster'] == cluster_label]
    fig.add_trace(go.Scattergeo(
        lon=cluster_data['Delivery_location_longitude'],
        lat=cluster_data['Delivery_location_latitude'],
        mode='markers',
        name=f'Cluster {cluster_label}',
        marker=dict(size=6, opacity=0.7),
        hovertemplate='&lt;b&gt;Cluster:&lt;/b&gt; %{text}&lt;br&gt;Lat: %{lat:.4f}&lt;br&gt;Lon: %{lon:.4f}&lt;extra&gt;&lt;/extra&gt;',
        text=[f"{cluster_label}"] * len(cluster_data)
    ))

fig.add_trace(go.Scattergeo(
    lon=centroids[:, 1],
    lat=centroids[:, 0],
    mode='markers',
    name='Centroids',
    marker=dict(size=15, symbol='x', color='red', line=dict(width=2, color='black')),
    hovertemplate='&lt;b&gt;Centroid&lt;/b&gt;&lt;br&gt;Lat: %{lat:.4f}&lt;br&gt;Lon: %{lon:.4f}&lt;extra&gt;&lt;/extra&gt;'
))

fig.update_layout(
    title=f'üìç Geo-Spatial Clustering of Delivery Locations (k = {k})',
    geo=dict(
        scope='asia',
        showland=True,
        landcolor="rgb(229, 229, 229)",
        showcountries=True,
        countrycolor="rgb(204, 204, 204)",
        lonaxis=dict(range=[68, 98]),
        lataxis=dict(range=[6, 38]),
    ),
    legend_title='Clusters',
    margin=dict(l=0, r=0, t=60, b=0)
)

fig.show()</code></pre>
<figure class="wp-block-image aligncenter size-full"><img alt="Geo-Spatial Clustering of Delivery Locations" class="wp-image-26543" data-attachment-id="26543" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Geo-Spatial Clustering of Delivery Locations" data-orig-size="855,525" data-recalc-dims="1" decoding="async" height="525" loading="lazy" sizes="auto, (max-width: 855px) 100vw, 855px" src="../assets/datasets/Geo-Spatial-Clustering-of-Delivery-Locations.png" width="855"/></figure>
<p><strong>Cluster 0</strong> (blue) represents the <strong>Central Delivery Zone</strong>, covering areas like Maharashtra and Madhya Pradesh, while <strong>Cluster 2</strong> (green) forms the <strong>Southern Delivery Zone</strong>, focused around Tamil Nadu and Karnataka. However, <strong>Cluster 1</strong> includes points that lie<strong> outside Indian geographic boundaries</strong>, indicating <strong>outliers or invalid coordinates</strong> likely due to GPS errors or data entry issues.</p>
<p>Now, let‚Äôs remove the outlier cluster and label valid delivery segments for optimized logistics planning:</p>
<pre><code class="language-python">filtered_data = data[data['Cluster'] != 1]
filtered_centroids = centroids[[0, 2]]  # Keep only Cluster 0 and 2

# Step 3: Map cluster names
cluster_labels = {
    0: "Central Delivery Zone",
    2: "Southern Delivery Zone"
}
filtered_data['Optimized_Zone'] = filtered_data['Cluster'].map(cluster_labels)</code></pre>
<p>Here, we filtered out <strong>Cluster 1</strong>, which represents outliers located outside India‚Äôs geographical boundaries. Then, we renamed the remaining valid clusters (Cluster 0 as <strong>‚ÄúCentral Delivery Zone‚Äù</strong> and Cluster 2 as<strong> ‚ÄúSouthern Delivery Zone‚Äù</strong>) to give business context to the spatial segments. This final step transforms raw geospatial clusters into meaningful delivery zones that can be used for route optimization, staffing, and strategic planning.</p>
<h3 class="wp-block-heading">Summary</h3>
<!-- CONTENT END 1 -->
</article>
<!-- Navigation Bottom -->
<div style="margin-top: 4rem; padding-top: 2rem; border-top: 1px solid #E5E7EB; display: flex; justify-content: space-between;">
<a href="topic-modelling-using-python.html" style="text-decoration: none; color: var(--primary-color); font-weight: 600;">‚Üê
                        Previous Article</a>
<a href="../articles.html" style="text-decoration: none; color: var(--text-muted); font-weight: 500;">All Articles</a>
<a href="compare-multiple-machine-learning-models.html" style="text-decoration: none; color: var(--primary-color); font-weight: 600;">Next
                        Article ‚Üí</a>
</div>
</div>
<!-- Right: Sticky Sidebar -->
<aside class="sidebar-area">
<div class="sticky-sidebar-content">
<!-- Search Widget (Optional) -->
<!-- <div class="sidebar-widget"> ... </div> -->
<!-- Sidebar Ad -->
<div class="ad-unit ad-sidebar-vertical">
<span>Advertisement (Vertical)</span>
</div>
<!-- Popular Posts -->
<div class="sidebar-widget">
<h3 class="widget-title">Popular Articles</h3>
<ul class="popular-posts-list">
<li><a href="#">Building AI Agents with LangChain</a></li>
<li><a href="#">Optimizing PyTorch Loops</a></li>
<li><a href="#">Data Structures for ML Engineers</a></li>
</ul>
</div>
</div>
</aside>
</div>
</main>
<!-- Footer -->
<footer class="main-footer">
<div class="container">
<div class="footer-content">
<p>¬© 2025 Kishna Kushwaha. All rights reserved.</p>
<div class="footer-links">
<a href="#">Privacy Policy</a>
<a href="#">Terms of Service</a>
</div>
</div>
</div>
<a aria-label="Go to top" class="go-top-btn" href="#"><i class="fas fa-arrow-up"></i></a>
</footer>
<script src="../js/script.js"></script>
<script src="../js/search.js"></script>
<!-- Highlight.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<!-- Search Overlay -->
<div class="search-overlay" id="search-overlay">
<div class="search-container">
<button class="search-close-btn" id="search-close">√ó</button>
<input autocomplete="off" id="search-input" placeholder="Search articles, projects..." type="text"/>
<div class="search-results" id="search-results"></div>
</div>
</div>
</body>
</html>